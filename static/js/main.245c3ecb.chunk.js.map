{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","services/pixabay-api.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","findImage","setFindImage","className","s","event","preventDefault","trim","toast","error","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","onChange","currentTarget","value","toLowerCase","placeholder","axios","defaults","baseURL","params","key","getSearchedImage","query","a","page","get","response","data","console","log","ImageGalleryItem","webformatURL","tags","onClick","src","alt","ImageGalleryItemImage","Button","onLoad","box","App","color","height","width","timeout","Component","modalRoot","document","querySelector","Modal","onClose","image","useEffect","handleKeyDown","e","code","window","addEventListener","removeEventListener","createPortal","Overlay","target","largeImageURL","ImageGallery","images","setImages","setError","isLoading","setIsLoading","imageIndex","setImageIndex","showModal","setShowModal","then","res","hits","SmoothScrolling","catch","scrollTo","top","documentElement","scrollHeight","behavior","message","length","map","index","handleClick","id","setPage","prevState","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,aAAe,mCAAmC,IAAM,4B,mBCA1ED,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,kD,mBCAxGD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,IAAM,sB,mBCAxDD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,IAAM,sB,uCCAxBD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,qC,iICIjO,SAASC,EAAT,GAAkC,IAAbC,EAAY,EAAZA,SAClC,EAAkCC,mBAAS,IAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KAkBA,OACE,wBAAQC,UAAWC,IAAEN,UAArB,SACE,uBAAMC,SAdW,SAAAM,GACnBA,EAAMC,iBAEmB,KAArBL,EAAUM,QAKdR,EAASE,GACTC,EAAa,KALXM,IAAMC,MAAM,2BAUkBN,UAAWC,IAAEM,WAA3C,UACE,wBAAQC,KAAK,SAASR,UAAWC,IAAEQ,iBAAnC,SACE,sBAAMT,UAAWC,IAAES,sBAAnB,sBAGF,uBACEV,UAAWC,IAAEU,gBACbH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,SA5BiB,SAAAZ,GACvBH,EAAaG,EAAMa,cAAcC,MAAMC,gBA4BjCC,YAAY,kC,sDCnCtBC,IAAMC,SAASC,QAAU,0BAGzBF,IAAMC,SAASE,OAAS,CACtBC,IAFc,sCAKT,IAAMC,EAAgB,uCAAG,WAAOC,GAAP,+BAAAC,EAAA,6DAAcC,EAAd,+BAAqB,EAArB,kBAELR,IAAMS,IAAN,cACdH,EADc,iBACAE,EADA,yDAFK,cAEtBE,EAFsB,OAKtBC,EAAOD,EAASC,KALM,kBAMrBA,GANqB,gCAQ5BC,QAAQC,IAAR,MAR4B,qGAAH,sD,iBCOdC,EAbU,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,aAAcC,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QAC9C,OACE,oBAAIpC,UAAWC,IAAEgC,iBAAkBG,QAASA,EAA5C,SACE,qBAAKC,IAAKH,EAAcI,IAAKH,EAAMnC,UAAWC,IAAEsC,2B,iBCMvCC,EAVA,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OAChB,OACE,qBAAKzC,UAAWC,IAAEyC,IAAlB,SACE,wBAAQ1C,UAAWC,IAAEuC,OAAQhC,KAAK,SAAS4B,QAASK,EAApD,0B,0ECAeE,E,4JACnB,WACE,OACE,qBAAK3C,UAAWC,IAAEyC,IAAlB,SACE,cAAC,IAAD,CACElC,KAAK,OACLoC,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,Y,GATcC,a,iBCA3BC,EAAYC,SAASC,cAAc,eAE1B,SAASC,EAAT,GAAoC,IAAnBC,EAAkB,EAAlBA,QAASC,EAAS,EAATA,MACvCC,qBAAU,WACR,IAAMC,EAAgB,SAAAC,GACL,WAAXA,EAAEC,MACJL,KAKJ,OADAM,OAAOC,iBAAiB,UAAWJ,GAC5B,WACLG,OAAOE,oBAAoB,UAAWL,MAEvC,CAACH,IAQJ,OAAOS,uBACL,qBAAK9D,UAAWC,IAAE8D,QAAS3B,QAPD,SAAAqB,GACtBA,EAAE1C,gBAAkB0C,EAAEO,QACxBX,KAKF,SACE,qBAAKrD,UAAWC,IAAEmD,MAAlB,SACE,qBAAKf,IAAKiB,EAAMW,cAAe3B,IAAKgB,EAAMnB,WAG9Cc,G,qBCzBW,SAASiB,EAAT,GAAoD,IAA5BpE,EAA2B,EAA3BA,UAAW2C,EAAgB,EAAhBA,OAAQd,EAAQ,EAARA,KACxD,EAA4B9B,mBAAS,IAArC,mBAAOsE,EAAP,KAAeC,EAAf,KACA,EAA0BvE,mBAAS,MAAnC,mBAAOS,EAAP,KAAc+D,EAAd,KACA,EAAkCxE,mBAAS,MAA3C,mBAAOyE,EAAP,KAAkBC,EAAlB,KACA,EAAoC1E,mBAAS,MAA7C,mBAAO2E,EAAP,KAAmBC,EAAnB,KACA,EAAkC5E,oBAAS,GAA3C,mBAAO6E,EAAP,KAAkBC,EAAlB,KAEApB,qBAAU,WACHzD,IAIQ,IAAT6B,GACFyC,EAAU,IAGZG,GAAa,GACb/C,EAAiB1B,EAAW6B,GACzBiD,MACC,SAAAC,GAAG,OACDT,GAAU,SAAAD,GACR,MAAM,GAAN,mBAAWA,GAAX,YAAsBU,EAAIC,YAE9BP,GAAa,IAEdK,MAAK,WACS,IAATjD,GACFoD,OAGHC,OAAM,SAAA1E,GAAK,OAAI+D,EAAS/D,KAAQiE,GAAa,OAC/C,CAACzE,EAAW6B,IAEf,IAAMoD,EAAkB,WACtBpB,OAAOsB,SAAS,CACdC,IAAKhC,SAASiC,gBAAgBC,aAC9BC,SAAU,YAad,OAAIf,EACK,cAAC,EAAD,IAELI,EACK,cAACtB,EAAD,CAAOC,QARI,WAClBsB,GAAcD,IAOsBpB,MAAOa,EAAOK,KAEhDlE,EACK,qBAAKN,UAAWC,IAAEyC,IAAlB,SAAwBpC,EAAMgF,UAEjB,IAAlBnB,EAAOoB,QAAiBjF,EAGxB6D,EAAOoB,OAAS,EAEhB,qCACE,oBAAIvF,UAAWC,IAAEiE,aAAjB,SACGC,EAAOqB,KAAI,SAAClC,EAAOmC,GAAR,OACV,cAAC,EAAD,CAEEvD,aAAcoB,EAAMpB,aACpB1B,KAAM8C,EAAM9C,KACZ4B,QAAS,YA9BD,SAAAqD,GAClBhB,EAAcgB,GACdd,GAAa,GA6BDe,CAAYD,KAJTnC,EAAMqC,SASjB,cAAC,EAAD,CAAQlD,OAAQA,YAftB,EAFS,qBAAKzC,UAAWC,IAAEyC,IAAlB,+BC9DI,SAASC,IACtB,MAAkC9C,mBAAS,IAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAAwBF,mBAAS,GAAjC,mBAAO8B,EAAP,KAAaiE,EAAb,KAaA,OACE,qCACE,cAACjG,EAAD,CAAWC,SAbU,SAAAE,GACvBC,EAAaD,GACb8F,EAAQ,MAYN,cAAC1B,EAAD,CAAcpE,UAAWA,EAAW2C,OATzB,WACbmD,GAAQ,SAAAC,GACN,OAAOA,EAAY,MAOiClE,KAAMA,IAE1D,cAAC,IAAD,OCpBNmE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF9C,SAAS+C,eAAe,W","file":"static/js/main.245c3ecb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__weuBx\",\"box\":\"ImageGallery_box__OsmKV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3oZ6U\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2soAK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__14BWx\",\"box\":\"Button_box__2xpBa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3roI1\",\"Modal\":\"Modal_Modal__5JZQR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"Loader_box__2tnI7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3kvGB\",\"SearchForm\":\"Searchbar_SearchForm__2nHiV\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1Fdh4\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__gGgCA\",\"SearchFormInput\":\"Searchbar_SearchFormInput__sYOdX\"};","import { useState } from 'react';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport s from './Searchbar.module.css';\n\nexport default function Searchbar({ onSubmit }) {\n  const [findImage, setFindImage] = useState('');\n\n  const handleNameChange = event => {\n    setFindImage(event.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (findImage.trim() === '') {\n      toast.error('Enter what to look for');\n      return;\n    }\n\n    onSubmit(findImage);\n    setFindImage('');\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form onSubmit={handleSubmit} className={s.SearchForm}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className={s.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          onChange={handleNameChange}\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n}\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api';\n\nconst API_KEY = '23504459-8998d3c986a45c76e9c9f5239';\naxios.defaults.params = {\n  key: API_KEY,\n};\n\nexport const getSearchedImage = async (query, page = 1) => {\n  try {\n    const response = await axios.get(\n      `/?q=${query}&page=${page}&image_type=photo&orientation=horizontal&per_page=12`,\n    );\n    const data = response.data;\n    return data;\n  } catch (e) {\n    console.log(e);\n  } finally {\n    //\n  }\n};\n","import PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ webformatURL, tags, onClick }) => {\n  return (\n    <li className={s.ImageGalleryItem} onClick={onClick}>\n      <img src={webformatURL} alt={tags} className={s.ImageGalleryItemImage} />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string,\n  type: PropTypes.string,\n};\n\nexport default ImageGalleryItem;\n","import s from './Button.module.css';\n\nconst Button = ({ onLoad }) => {\n  return (\n    <div className={s.box}>\n      <button className={s.Button} type=\"button\" onClick={onLoad}>\n        Load more\n      </button>\n    </div>\n  );\n};\n\nexport default Button;\n","import { Component } from 'react';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './Loader.module.css';\n\nimport Loader from 'react-loader-spinner';\nexport default class App extends Component {\n  render() {\n    return (\n      <div className={s.box}>\n        <Loader\n          type=\"Puff\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={3000}\n        />\n      </div>\n    );\n  }\n}\n","import PropTypes from 'prop-types';\nimport { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ onClose, image }) {\n  useEffect(() => {\n    const handleKeyDown = e => {\n      if (e.code === 'Escape') {\n        onClose();\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [onClose]);\n\n  const handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={s.Overlay} onClick={handleBackdropClick}>\n      <div className={s.Modal}>\n        <img src={image.largeImageURL} alt={image.tags} />\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport { getSearchedImage } from '../../services/pixabay-api';\nimport ImageGalleryItem from './ImageGalleryItem';\nimport Button from '../Button';\nimport Loader from '../Loader';\nimport Modal from '../Modal';\nimport s from './ImageGallery.module.css';\n\nexport default function ImageGallery({ findImage, onLoad, page }) {\n  const [images, setImages] = useState([]);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(null);\n  const [imageIndex, setImageIndex] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n\n  useEffect(() => {\n    if (!findImage) {\n      return;\n    }\n\n    if (page === 1) {\n      setImages([]);\n    }\n\n    setIsLoading(true);\n    getSearchedImage(findImage, page)\n      .then(\n        res =>\n          setImages(images => {\n            return [...images, ...res.hits];\n          }),\n        setIsLoading(false),\n      )\n      .then(() => {\n        if (page !== 1) {\n          SmoothScrolling();\n        }\n      })\n      .catch(error => setError(error), setIsLoading(false));\n  }, [findImage, page]);\n\n  const SmoothScrolling = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  const handleClick = index => {\n    setImageIndex(index);\n    setShowModal(true);\n  };\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  if (isLoading) {\n    return <Loader />;\n  }\n  if (showModal) {\n    return <Modal onClose={toggleModal} image={images[imageIndex]} />;\n  }\n  if (error) {\n    return <div className={s.box}>{error.message}</div>;\n  }\n  if (images.length === 0 && !error) {\n    return <div className={s.box}>Start your search</div>;\n  }\n  if (images.length > 0) {\n    return (\n      <>\n        <ul className={s.ImageGallery}>\n          {images.map((image, index) => (\n            <ImageGalleryItem\n              key={image.id}\n              webformatURL={image.webformatURL}\n              type={image.type}\n              onClick={() => {\n                handleClick(index);\n              }}\n            />\n          ))}\n        </ul>\n        <Button onLoad={onLoad} />\n      </>\n    );\n  }\n}\n","import { useState } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\n\nexport default function App() {\n  const [findImage, setFindImage] = useState('');\n  const [page, setPage] = useState(1);\n\n  const handleFormSubmit = findImage => {\n    setFindImage(findImage);\n    setPage(1);\n  };\n\n  const onLoad = () => {\n    setPage(prevState => {\n      return prevState + 1;\n    });\n  };\n\n  return (\n    <>\n      <Searchbar onSubmit={handleFormSubmit} />\n      <ImageGallery findImage={findImage} onLoad={onLoad} page={page} />\n\n      <ToastContainer />\n    </>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}